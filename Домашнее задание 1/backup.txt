--
-- PostgreSQL database dump
--

-- Dumped from database version 14.2
-- Dumped by pg_dump version 14.1

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: audio; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.audio (
    id integer NOT NULL,
    user_id integer NOT NULL,
    path character varying(256) NOT NULL,
    type character varying(8) NOT NULL,
    "timestamp" timestamp with time zone NOT NULL,
    description text
);


ALTER TABLE public.audio OWNER TO agaltsevstas;

--
-- Name: audio_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.audio ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.audio_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: audio_per_media; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.audio_per_media (
    audio_id integer NOT NULL,
    media_id integer NOT NULL
);


ALTER TABLE public.audio_per_media OWNER TO agaltsevstas;

--
-- Name: channel; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.channel (
    id integer NOT NULL,
    type_id integer NOT NULL,
    name character varying(32) NOT NULL,
    description text,
    "timestamp" timestamp with time zone NOT NULL
);


ALTER TABLE public.channel OWNER TO agaltsevstas;

--
-- Name: channel_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.channel ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.channel_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: channel_type; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.channel_type (
    id integer NOT NULL,
    type character varying(8) NOT NULL
);


ALTER TABLE public.channel_type OWNER TO agaltsevstas;

--
-- Name: channel_type_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.channel_type ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.channel_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: comment; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.comment (
    id integer NOT NULL,
    user_id integer NOT NULL,
    post_id integer NOT NULL,
    other_comment_id integer,
    "timestamp" timestamp with time zone NOT NULL
);


ALTER TABLE public.comment OWNER TO agaltsevstas;

--
-- Name: comment_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.comment ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: community; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.community (
    id integer NOT NULL,
    user_id integer NOT NULL,
    post_id integer NOT NULL
);


ALTER TABLE public.community OWNER TO agaltsevstas;

--
-- Name: community_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.community ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.community_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: contact; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.contact (
    user_1_id integer NOT NULL,
    user_2_id integer NOT NULL,
    status integer NOT NULL
);


ALTER TABLE public.contact OWNER TO agaltsevstas;

--
-- Name: contact_status; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.contact_status (
    id integer NOT NULL,
    status character varying(12)
);


ALTER TABLE public.contact_status OWNER TO agaltsevstas;

--
-- Name: contact_status_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.contact_status ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.contact_status_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: last_message; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.last_message (
    channel_id integer NOT NULL,
    message_id integer NOT NULL
);


ALTER TABLE public.last_message OWNER TO agaltsevstas;

--
-- Name: last_seen; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.last_seen (
    user_id integer NOT NULL,
    channel_id integer NOT NULL,
    message_id integer NOT NULL
);


ALTER TABLE public.last_seen OWNER TO agaltsevstas;

--
-- Name: like; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public."like" (
    id integer NOT NULL,
    user_id integer NOT NULL,
    post_id integer NOT NULL,
    "timestamp" timestamp with time zone NOT NULL
);


ALTER TABLE public."like" OWNER TO agaltsevstas;

--
-- Name: like_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public."like" ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.like_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: media; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.media (
    id integer NOT NULL,
    type_id integer NOT NULL
);


ALTER TABLE public.media OWNER TO agaltsevstas;

--
-- Name: media_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.media ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.media_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: media_type; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.media_type (
    id integer NOT NULL,
    type character(5) NOT NULL
);


ALTER TABLE public.media_type OWNER TO agaltsevstas;

--
-- Name: media_type_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.media_type ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.media_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: message; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.message (
    id integer NOT NULL,
    user_id integer NOT NULL,
    channel_id integer NOT NULL,
    text text NOT NULL,
    "timestamp" time with time zone NOT NULL
);


ALTER TABLE public.message OWNER TO agaltsevstas;

--
-- Name: message_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.message ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.message_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: photo; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.photo (
    id integer NOT NULL,
    user_id integer NOT NULL,
    path character varying(256) NOT NULL,
    type character varying(8) NOT NULL,
    "timestamp" timestamp with time zone NOT NULL,
    description text
);


ALTER TABLE public.photo OWNER TO agaltsevstas;

--
-- Name: photo_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.photo ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.photo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: photo_per_media; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.photo_per_media (
    photo_id integer NOT NULL,
    media_id integer NOT NULL
);


ALTER TABLE public.photo_per_media OWNER TO agaltsevstas;

--
-- Name: post; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.post (
    id integer NOT NULL,
    name character varying(64) NOT NULL,
    description text
);


ALTER TABLE public.post OWNER TO agaltsevstas;

--
-- Name: post_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.post ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.post_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: post_views; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.post_views (
    post_id integer NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.post_views OWNER TO agaltsevstas;

--
-- Name: profile; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.profile (
    id integer NOT NULL,
    photo_id integer,
    city character varying(64),
    interests text,
    description text,
    "timestamp" timestamp with time zone NOT NULL
);


ALTER TABLE public.profile OWNER TO agaltsevstas;

--
-- Name: user; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    name character varying(32) NOT NULL
);


ALTER TABLE public."user" OWNER TO agaltsevstas;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public."user" ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_per_channel; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.user_per_channel (
    user_id integer NOT NULL,
    channel_id integer NOT NULL
);


ALTER TABLE public.user_per_channel OWNER TO agaltsevstas;

--
-- Name: video; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.video (
    id integer NOT NULL,
    user_id integer NOT NULL,
    path character varying(256) NOT NULL,
    type character varying(8) NOT NULL,
    "timestamp" timestamp without time zone NOT NULL,
    description text
);


ALTER TABLE public.video OWNER TO agaltsevstas;

--
-- Name: video_id_seq; Type: SEQUENCE; Schema: public; Owner: agaltsevstas
--

ALTER TABLE public.video ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.video_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: video_per_media; Type: TABLE; Schema: public; Owner: agaltsevstas
--

CREATE TABLE public.video_per_media (
    video_id integer NOT NULL,
    media_id integer NOT NULL
);


ALTER TABLE public.video_per_media OWNER TO agaltsevstas;

--
-- Name: audio audio_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.audio
    ADD CONSTRAINT audio_pkey PRIMARY KEY (id);


--
-- Name: audio_per_media audio_ref_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.audio_per_media
    ADD CONSTRAINT audio_ref_pkey PRIMARY KEY (audio_id, media_id);


--
-- Name: channel channel_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.channel
    ADD CONSTRAINT channel_pkey PRIMARY KEY (id);


--
-- Name: channel_type channel_type_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.channel_type
    ADD CONSTRAINT channel_type_pkey PRIMARY KEY (id);


--
-- Name: comment comment_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT comment_pkey PRIMARY KEY (id);


--
-- Name: community community_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.community
    ADD CONSTRAINT community_pkey PRIMARY KEY (id);


--
-- Name: contact contact_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.contact
    ADD CONSTRAINT contact_pkey PRIMARY KEY (user_1_id, user_2_id);


--
-- Name: contact_status contact_status_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.contact_status
    ADD CONSTRAINT contact_status_pkey PRIMARY KEY (id);


--
-- Name: last_message last_message_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_message
    ADD CONSTRAINT last_message_pkey PRIMARY KEY (channel_id, message_id);


--
-- Name: last_seen last_seen_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_seen
    ADD CONSTRAINT last_seen_pkey PRIMARY KEY (user_id, channel_id, message_id);


--
-- Name: like like_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public."like"
    ADD CONSTRAINT like_pkey PRIMARY KEY (id);


--
-- Name: media media_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.media
    ADD CONSTRAINT media_pkey PRIMARY KEY (id);


--
-- Name: media_type media_type_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.media_type
    ADD CONSTRAINT media_type_pkey PRIMARY KEY (id);


--
-- Name: message message_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.message
    ADD CONSTRAINT message_pkey PRIMARY KEY (id);


--
-- Name: photo photo_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.photo
    ADD CONSTRAINT photo_pkey PRIMARY KEY (id);


--
-- Name: photo_per_media photo_ref_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.photo_per_media
    ADD CONSTRAINT photo_ref_pkey PRIMARY KEY (photo_id, media_id);


--
-- Name: post post_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.post
    ADD CONSTRAINT post_pkey PRIMARY KEY (id);


--
-- Name: post_views post_views_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.post_views
    ADD CONSTRAINT post_views_pkey PRIMARY KEY (post_id, user_id);


--
-- Name: profile profile_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.profile
    ADD CONSTRAINT profile_pkey PRIMARY KEY (id);


--
-- Name: user_per_channel user_per_channel_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.user_per_channel
    ADD CONSTRAINT user_per_channel_pkey PRIMARY KEY (user_id, channel_id);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: video video_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.video
    ADD CONSTRAINT video_pkey PRIMARY KEY (id);


--
-- Name: video_per_media video_ref_pkey; Type: CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.video_per_media
    ADD CONSTRAINT video_ref_pkey PRIMARY KEY (video_id, media_id);


--
-- Name: audio_per_media audio_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.audio_per_media
    ADD CONSTRAINT audio_pkey FOREIGN KEY (audio_id) REFERENCES public.audio(id);


--
-- Name: user_per_channel channel_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.user_per_channel
    ADD CONSTRAINT channel_pkey FOREIGN KEY (channel_id) REFERENCES public.channel(id) NOT VALID;


--
-- Name: message channel_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.message
    ADD CONSTRAINT channel_pkey FOREIGN KEY (channel_id) REFERENCES public.channel(id) NOT VALID;


--
-- Name: last_message channel_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_message
    ADD CONSTRAINT channel_pkey FOREIGN KEY (channel_id) REFERENCES public.channel(id);


--
-- Name: last_seen channel_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_seen
    ADD CONSTRAINT channel_pkey FOREIGN KEY (channel_id) REFERENCES public.channel(id) NOT VALID;


--
-- Name: photo_per_media media_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.photo_per_media
    ADD CONSTRAINT media_pkey FOREIGN KEY (media_id) REFERENCES public.media(id) NOT VALID;


--
-- Name: audio_per_media media_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.audio_per_media
    ADD CONSTRAINT media_pkey FOREIGN KEY (media_id) REFERENCES public.media(id) NOT VALID;


--
-- Name: video_per_media media_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.video_per_media
    ADD CONSTRAINT media_pkey FOREIGN KEY (media_id) REFERENCES public.media(id) NOT VALID;


--
-- Name: last_message message_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_message
    ADD CONSTRAINT message_pkey FOREIGN KEY (message_id) REFERENCES public.message(id) NOT VALID;


--
-- Name: last_seen message_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_seen
    ADD CONSTRAINT message_pkey FOREIGN KEY (message_id) REFERENCES public.message(id) NOT VALID;


--
-- Name: comment other_comment_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT other_comment_pkey FOREIGN KEY (other_comment_id) REFERENCES public.comment(id) NOT VALID;


--
-- Name: profile photo_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.profile
    ADD CONSTRAINT photo_pkey FOREIGN KEY (photo_id) REFERENCES public.photo(id);


--
-- Name: photo_per_media photo_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.photo_per_media
    ADD CONSTRAINT photo_pkey FOREIGN KEY (photo_id) REFERENCES public.media(id);


--
-- Name: like post_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public."like"
    ADD CONSTRAINT post_pkey FOREIGN KEY (post_id) REFERENCES public.post(id) NOT VALID;


--
-- Name: comment post_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT post_pkey FOREIGN KEY (post_id) REFERENCES public.post(id) NOT VALID;


--
-- Name: community post_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.community
    ADD CONSTRAINT post_pkey FOREIGN KEY (post_id) REFERENCES public.post(id) NOT VALID;


--
-- Name: post_views post_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.post_views
    ADD CONSTRAINT post_pkey FOREIGN KEY (post_id) REFERENCES public.post(id);


--
-- Name: contact status_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.contact
    ADD CONSTRAINT status_pkey FOREIGN KEY (status) REFERENCES public.contact_status(id) NOT VALID;


--
-- Name: media type_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.media
    ADD CONSTRAINT type_pkey FOREIGN KEY (type_id) REFERENCES public.media_type(id) NOT VALID;


--
-- Name: channel type_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.channel
    ADD CONSTRAINT type_pkey FOREIGN KEY (type_id) REFERENCES public.channel_type(id) NOT VALID;


--
-- Name: contact user_1_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.contact
    ADD CONSTRAINT user_1_pkey FOREIGN KEY (user_1_id) REFERENCES public."user"(id);


--
-- Name: contact user_2_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.contact
    ADD CONSTRAINT user_2_pkey FOREIGN KEY (user_2_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: audio user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.audio
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: photo user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.photo
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: video user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.video
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: user_per_channel user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.user_per_channel
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: like user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public."like"
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: comment user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: community user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.community
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: message user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.message
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id) NOT VALID;


--
-- Name: last_seen user_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.last_seen
    ADD CONSTRAINT user_pkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: video_per_media video_pkey; Type: FK CONSTRAINT; Schema: public; Owner: agaltsevstas
--

ALTER TABLE ONLY public.video_per_media
    ADD CONSTRAINT video_pkey FOREIGN KEY (video_id) REFERENCES public.video(id);


--
-- PostgreSQL database dump complete
--

